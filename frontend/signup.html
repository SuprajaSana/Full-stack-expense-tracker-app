<!DOCTYPE html>
<body>
  <div
    style="
      text-align: center;
      border: 2px solid grey;
      width: 40%;
      height: 300px;
      background-color: grey;
      margin-left: 30%;
      margin-top: 50px;
    "
  >
    <h1>SignUp</h1>
    <form onsubmit="postUserDetails(event)">
      <div style="margin-top: 20px">
        <label style="margin-right: 20px">Enter Name</label>
        <input type="text" name="name" id="name" required />
      </div>
      <div style="margin-top: 20px">
        <label style="margin-right: 20px">Enter Email</label>
        <input type="email" name="email" id="email" required />
      </div>
      <div style="margin-top: 20px">
        <label style="margin-right: 10px">Enter Password</label>
        <input type="text" name="password" id="password" required />
      </div>
      <button
        style="margin-top: 20px; width: 100px; height: 30px; font-weight: bold"
      >
        Signup
      </button>
      <div style="margin-top: 20px">
        <a href="D:\full stack expense tracker app\frontend\login.html">Already have an account?Login</a>
      </div>
    </form>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.27.2/axios.min.js"></script>
  <script>
    async function postUserDetails(e) {
      e.preventDefault();
      const userName = e.target.name.value;
      const email = e.target.email.value;
      const password = e.target.password.value;

      const obj = {
        userName,
        email,
        password,
      };

      console.log(obj)
      try {
        const response = await axios.post(
          "http://localhost:8000/add/userdetails/signup",
          obj
        );
        console.log(response.data);

        document.getElementById("name").value = "";
        document.getElementById("email").value = "";
        document.getElementById("password").value = "";
      } catch (err) {
        console.log(err);
      }
    }
  </script>
</body>
